<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8 />
		<title>Landing Screen</title>

		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
		
		<!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
		<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>-->

		<script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.js'></script>
		<link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.css' rel='stylesheet' />

		<style>
		  body { margin:0; padding:0; }
		  #map { position:absolute; top:0; bottom:0; width:100%; }
		</style>
	</head>
	
	<body>
		<style>

			#geolocate:hover {
				background: #ECF5FA;
			}
			</style>
			
			
			
			<div id='map'></div>
			
			
			
			
			<script>
			var map = L.mapbox.map('map', 'bmcfetridge.i8gpfmeh', {zoomControl: false})			
			.addLayer(L.mapbox.tileLayer('bmcfetridge.i8gpfmeh', {
				detectRetina: true,		
				retinaVersion: 'bmcfetridge.i8gpfmeh'
			}));
			var geolocate = document.getElementById('geolocate');

			var myLayer = L.mapbox.featureLayer().addTo(map);
			
			
			map.locate();
			// This uses the HTML5 geolocation API, which is available on
			// most mobile browsers and modern browsers, but not in Internet Explorer
			//
			// See this chart of compatibility for details:
			// http://caniuse.com/#feat=geolocation
			
			
			// Once we've got a position, zoom and center the map
			// on it, and add a single marker.
			map.on('locationfound', function(e) {
				map.fitBounds(e.bounds);
				map.zoom(19, false);
			});

			// If the user chooses not to allow their location
			// to be shared, display an error message.
			map.on('locationerror', function() {
				geolocate.innerHTML = 'position could not be found';
			});
		</script>

		
		
		<script>
		
		//Loading the map with no zoom controls and detection for retina devices
		//var map = L.mapbox.map('map', 'bmcfetridge.i8gpfmeh', {zoomControl: false})
		//	.setView([lat, lng], 18)
		//	.addLayer(L.mapbox.tileLayer('bmcfetridge.i8gpfmeh', {
		//		detectRetina: true,		
		//		retinaVersion: 'bmcfetridge.i8gpfmeh'
		//	}));
			
		// disable drag and zoom handlers
		/*map.dragging.disable();
		map.touchZoom.disable();
		map.doubleClickZoom.disable();
		map.scrollWheelZoom.disable();
		// disable tap handler, if present.
		if (map.tap) map.tap.disable();*/
		</script>
	</body>
</html>